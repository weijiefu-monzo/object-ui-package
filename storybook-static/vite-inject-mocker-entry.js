import{_ as Oe}from"./assets/preload-helper-PPVm8Dsz.js";class fe{registryByUrl=new Map;registryById=new Map;clear(){this.registryByUrl.clear(),this.registryById.clear()}keys(){return this.registryByUrl.keys()}add(e){this.registryByUrl.set(e.url,e),this.registryById.set(e.id,e)}register(e,t,n,i,s){const a=typeof e=="object"?e.type:e;if(typeof e=="object"){const o=e;if(o instanceof U||o instanceof F||o instanceof Y||o instanceof B)throw new TypeError(`[vitest] Cannot register a mock that is already defined. Expected a JSON representation from \`MockedModule.toJSON\`, instead got "${o.type}". Use "registry.add()" to update a mock instead.`);if(o.type==="automock"){const c=U.fromJSON(o);return this.add(c),c}else if(o.type==="autospy"){const c=F.fromJSON(o);return this.add(c),c}else if(o.type==="redirect"){const c=B.fromJSON(o);return this.add(c),c}else throw o.type==="manual"?new Error("Cannot set serialized manual mock. Define a factory function manually with `ManualMockedModule.fromJSON()`."):new Error(`Unknown mock type: ${o.type}`)}if(typeof t!="string")throw new TypeError("[vitest] Mocks require a raw string.");if(typeof i!="string")throw new TypeError("[vitest] Mocks require a url string.");if(typeof n!="string")throw new TypeError("[vitest] Mocks require an id string.");if(a==="manual"){if(typeof s!="function")throw new TypeError("[vitest] Manual mocks require a factory function.");const o=new Y(t,n,i,s);return this.add(o),o}else if(a==="automock"||a==="autospy"){const o=a==="automock"?new U(t,n,i):new F(t,n,i);return this.add(o),o}else if(a==="redirect"){if(typeof s!="string")throw new TypeError("[vitest] Redirect mocks require a redirect string.");const o=new B(t,n,i,s);return this.add(o),o}else throw new Error(`[vitest] Unknown mock type: ${a}`)}delete(e){this.registryByUrl.delete(e)}get(e){return this.registryByUrl.get(e)}getById(e){return this.registryById.get(e)}has(e){return this.registryByUrl.has(e)}}class U{type="automock";constructor(e,t,n){this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new F(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id}}}class F{type="autospy";constructor(e,t,n){this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new F(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}class B{type="redirect";constructor(e,t,n,i){this.raw=e,this.id=t,this.url=n,this.redirect=i}static fromJSON(e){return new B(e.raw,e.id,e.url,e.redirect)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id,redirect:this.redirect}}}class Y{cache;type="manual";constructor(e,t,n,i){this.raw=e,this.id=t,this.url=n,this.factory=i}async resolve(){if(this.cache)return this.cache;let e;try{e=await this.factory()}catch(t){const n=new Error('[vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock');throw n.cause=t,n}if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`[vitest] vi.mock("${this.raw}", factory?: () => unknown) is not returning an object. Did you mean to return an object with a "default" key?`);return this.cache=e}static fromJSON(e,t){return new Y(e.raw,e.id,e.url,t)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}function Ne(r,e,t={}){const n=new Array,i=new Le,s=(c,f,m)=>{try{return c[f]=m,!0}catch{return!1}},a=(c,f)=>{const m=V(c),y=m==="Module"||!!c.__esModule;for(const{key:g,descriptor:I}of ee(c,y,r.globalConstructors)){if(!y&&I.get){try{Object.defineProperty(f,g,I)}catch{}continue}if(Je(g,m))continue;const T=c[g],l=i.getId(T);if(l!==void 0){n.push(()=>s(f,g,i.getMockedValue(l)));continue}const x=V(T);if(Array.isArray(T)){s(f,g,[]);continue}const M=x.includes("Function")&&typeof T=="function";if((!M||T._isMockFunction)&&x!=="Object"&&x!=="Module"){s(f,g,T);continue}if(s(f,g,M?T:{})){if(M){let _=function(){if(this instanceof f[g])for(const{key:S,descriptor:A}of ee(this,!1,r.globalConstructors)){if(A.get)continue;const C=this[S];if(V(C).includes("Function")&&typeof C=="function"){const O=this[S],u=$(this,S).mockImplementation(O),R=u.mockReset;u.mockRestore=u.mockReset=()=>(R.call(u),u.mockImplementation(O),u)}}};if(!r.spyOn)throw new Error("[@vitest/mocker] `spyOn` is not defined. This is a Vitest error. Please open a new issue with reproduction.");const $=r.spyOn,P=$(f,g);if(r.type==="automock"){P.mockImplementation(_);const S=P.mockReset;P.mockRestore=P.mockReset=()=>(S.call(P),P.mockImplementation(_),P)}Object.defineProperty(f[g],"length",{value:0})}i.track(T,f[g]),a(T,f[g])}}},o=t;a(e,o);for(const c of n)c();return o}class Le{idMap=new Map;mockedValueMap=new Map;getId(e){return this.idMap.get(e)}getMockedValue(e){return this.mockedValueMap.get(e)}track(e,t){const n=this.idMap.size;return this.idMap.set(e,n),this.mockedValueMap.set(n,t),n}}function V(r){return Object.prototype.toString.apply(r).slice(8,-1)}function Je(r,e){return e.includes("Function")&&typeof r=="string"&&["arguments","callee","caller","length","name"].includes(r)}function ee(r,e,t){const{Map:n,Object:i,Function:s,RegExp:a,Array:o}=t,c=new n;let f=r;do{if(f===i.prototype||f===s.prototype||f===a.prototype)break;Fe(f,m=>{const y=i.getOwnPropertyDescriptor(f,m);y&&c.set(m,{key:m,descriptor:y})})}while(f=i.getPrototypeOf(f));if(e&&!c.has("default")&&"default"in r){const m=i.getOwnPropertyDescriptor(r,"default");m&&c.set("default",{key:"default",descriptor:m})}return o.from(c.values())}function Fe(r,e){const t=typeof e=="function"?e:n=>e.add(n);Object.getOwnPropertyNames(r).forEach(t),Object.getOwnPropertySymbols(r).forEach(t)}const Be=/^[A-Za-z]:\//;function de(r=""){return r&&r.replace(/\\/g,"/").replace(Be,e=>e.toUpperCase())}const Xe=/^[/\\]{2}/,De=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,qe=/^[A-Za-z]:$/,Ue=/.(\.[^./]+|\.)$/,Ye=function(r){if(r.length===0)return".";r=de(r);const e=r.match(Xe),t=te(r),n=r[r.length-1]==="/";return r=Ve(r,!t),r.length===0?t?"/":n?"./":".":(n&&(r+="/"),qe.test(r)&&(r+="/"),e?t?`//${r}`:`//./${r}`:t&&!te(r)?`/${r}`:r)},ze=function(...r){let e="";for(const t of r)if(t)if(e.length>0){const n=e[e.length-1]==="/",i=t[0]==="/";n&&i?e+=t.slice(1):e+=n||i?t:`/${t}`}else e+=t;return Ye(e)};function Ve(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const c=t.lastIndexOf("/");c===-1?(t="",n=0):(t=t.slice(0,c),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const te=function(r){return De.test(r)},We=function(r){if(r==="..")return"";const e=Ue.exec(de(r));return e&&e[1]||""};var je={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},He=Object.entries(je);function Z(r){return String(r)}Z.open="";Z.close="";function Ke(r=!1){let e=typeof process<"u"?process:void 0,t=e?.env||{},n=e?.argv||[];return!("NO_COLOR"in t||n.includes("--no-color"))&&("FORCE_COLOR"in t||n.includes("--color")||e?.platform==="win32"||r&&t.TERM!=="dumb"||"CI"in t)||typeof window<"u"&&!!window.chrome}function Ze(r=!1){let e=Ke(r),t=(a,o,c,f)=>{let m="",y=0;do m+=a.substring(y,f)+c,y=f+o.length,f=a.indexOf(o,y);while(~f);return m+a.substring(y)},n=(a,o,c=a)=>{let f=m=>{let y=String(m),g=y.indexOf(o,a.length);return~g?a+t(y,o,c,g)+o:a+y+o};return f.open=a,f.close=o,f},i={isColorSupported:e},s=a=>`\x1B[${a}m`;for(let[a,o]of He)i[a]=e?n(s(o[0]),s(o[1]),o[2]):Z;return i}Ze();function pe(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function me(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var W={exports:{}},w={};/**
* @license React
* react-is.development.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var re;function Ge(){return re||(re=1,(function(){function r(l){if(typeof l=="object"&&l!==null){var x=l.$$typeof;switch(x){case e:switch(l=l.type,l){case n:case s:case i:case f:case m:case I:return l;default:switch(l=l&&l.$$typeof,l){case o:case c:case g:case y:return l;case a:return l;default:return x}}case t:return x}}}var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),I=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");w.ContextConsumer=a,w.ContextProvider=o,w.Element=e,w.ForwardRef=c,w.Fragment=n,w.Lazy=g,w.Memo=y,w.Portal=t,w.Profiler=s,w.StrictMode=i,w.Suspense=f,w.SuspenseList=m,w.isContextConsumer=function(l){return r(l)===a},w.isContextProvider=function(l){return r(l)===o},w.isElement=function(l){return typeof l=="object"&&l!==null&&l.$$typeof===e},w.isForwardRef=function(l){return r(l)===c},w.isFragment=function(l){return r(l)===n},w.isLazy=function(l){return r(l)===g},w.isMemo=function(l){return r(l)===y},w.isPortal=function(l){return r(l)===t},w.isProfiler=function(l){return r(l)===s},w.isStrictMode=function(l){return r(l)===i},w.isSuspense=function(l){return r(l)===f},w.isSuspenseList=function(l){return r(l)===m},w.isValidElementType=function(l){return typeof l=="string"||typeof l=="function"||l===n||l===s||l===i||l===f||l===m||typeof l=="object"&&l!==null&&(l.$$typeof===g||l.$$typeof===y||l.$$typeof===o||l.$$typeof===a||l.$$typeof===c||l.$$typeof===T||l.getModuleId!==void 0)},w.typeOf=r})()),w}var ne;function Qe(){return ne||(ne=1,W.exports=Ge()),W.exports}var he=Qe(),et=me(he),tt=pe({__proto__:null,default:et},[he]),j={exports:{}},v={};/**
* @license React
* react-is.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ie;function rt(){return ie||(ie=1,(function(){var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),T=!1,l=!1,x=!1,M=!1,$=!1,_;_=Symbol.for("react.module.reference");function P(d){return!!(typeof d=="string"||typeof d=="function"||d===t||d===i||$||d===n||d===f||d===m||M||d===I||T||l||x||typeof d=="object"&&d!==null&&(d.$$typeof===g||d.$$typeof===y||d.$$typeof===s||d.$$typeof===a||d.$$typeof===c||d.$$typeof===_||d.getModuleId!==void 0))}function S(d){if(typeof d=="object"&&d!==null){var z=d.$$typeof;switch(z){case r:var q=d.type;switch(q){case t:case i:case n:case f:case m:return q;default:var Q=q&&q.$$typeof;switch(Q){case o:case a:case c:case g:case y:case s:return Q;default:return z}}case e:return z}}}var A=a,C=s,p=r,h=c,O=t,u=g,R=y,D=e,b=i,N=n,E=f,L=m,k=!1,G=!1;function we(d){return k||(k=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function Se(d){return G||(G=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function _e(d){return S(d)===a}function ke(d){return S(d)===s}function Te(d){return typeof d=="object"&&d!==null&&d.$$typeof===r}function Ie(d){return S(d)===c}function be(d){return S(d)===t}function Re(d){return S(d)===g}function xe(d){return S(d)===y}function Pe(d){return S(d)===e}function Me(d){return S(d)===i}function $e(d){return S(d)===n}function Ae(d){return S(d)===f}function Ce(d){return S(d)===m}v.ContextConsumer=A,v.ContextProvider=C,v.Element=p,v.ForwardRef=h,v.Fragment=O,v.Lazy=u,v.Memo=R,v.Portal=D,v.Profiler=b,v.StrictMode=N,v.Suspense=E,v.SuspenseList=L,v.isAsyncMode=we,v.isConcurrentMode=Se,v.isContextConsumer=_e,v.isContextProvider=ke,v.isElement=Te,v.isForwardRef=Ie,v.isFragment=be,v.isLazy=Re,v.isMemo=xe,v.isPortal=Pe,v.isProfiler=Me,v.isStrictMode=$e,v.isSuspense=Ae,v.isSuspenseList=Ce,v.isValidElementType=P,v.typeOf=S})()),v}var oe;function nt(){return oe||(oe=1,j.exports=rt()),j.exports}var ye=nt(),it=me(ye),ot=pe({__proto__:null,default:it},[ye]);const st=["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"];Object.fromEntries(st.map(r=>[r,e=>ot[r](e)||tt[r](e)]));let at=()=>"Promise{…}";try{const{getPromiseDetails:r,kPending:e,kRejected:t}=process.binding("util");Array.isArray(r(Promise.resolve()))&&(at=(n,i)=>{const[s,a]=r(n);return s===e?"Promise{<pending>}":`Promise${s===t?"!":""}{${i.inspect(a,i)}}`})}catch{}function ct(r){const{message:e="$$stack trace error",stackTraceLimit:t=1}=r||{},n=Error.stackTraceLimit,i=Error.prepareStackTrace;Error.stackTraceLimit=t,Error.prepareStackTrace=o=>o.stack;const a=new Error(e).stack||"";return Error.prepareStackTrace=i,Error.stackTraceLimit=n,a}var H,se;function lt(){if(se)return H;se=1;var r,e,t,n,i,s,a,o,c,f,m,y,g,I,T,l,x,M,$;return g=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,y=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,r=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,T=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,m=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,l=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,$=/[\t\v\f\ufeff\p{Zs}]+/uy,o=/\r?\n|[\r\u2028\u2029]/y,c=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,I=/\/\/.*/y,t=/[<>.:={}]|\/(?![\/*])/y,e=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,n=/(['"])(?:(?!\1)[^])*(\1)?/y,i=/[^<>{}]+/y,M=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,x=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,a=/^(?:return|throw|yield)$/,f=RegExp(o.source),H=function*(_,{jsx:P=!1}={}){var S,A,C,p,h,O,u,R,D,b,N,E,L,k;for({length:O}=_,p=0,h="",k=[{tag:"JS"}],S=[],N=0,E=!1;p<O;){switch(R=k[k.length-1],R.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(_[p]==="/"&&(M.test(h)||s.test(h))&&(g.lastIndex=p,u=g.exec(_))){p=g.lastIndex,h=u[0],E=!0,yield{type:"RegularExpressionLiteral",value:u[0],closed:u[1]!==void 0&&u[1]!=="\\"};continue}if(y.lastIndex=p,u=y.exec(_)){switch(L=u[0],D=y.lastIndex,b=L,L){case"(":h==="?NonExpressionParenKeyword"&&k.push({tag:"JSNonExpressionParen",nesting:N}),N++,E=!1;break;case")":N--,E=!0,R.tag==="JSNonExpressionParen"&&N===R.nesting&&(k.pop(),b="?NonExpressionParenEnd",E=!1);break;case"{":y.lastIndex=0,C=!x.test(h)&&(M.test(h)||s.test(h)),S.push(C),E=!1;break;case"}":switch(R.tag){case"InterpolationInTemplate":if(S.length===R.nesting){l.lastIndex=p,u=l.exec(_),p=l.lastIndex,h=u[0],u[1]==="${"?(h="?InterpolationInTemplate",E=!1,yield{type:"TemplateMiddle",value:u[0]}):(k.pop(),E=!0,yield{type:"TemplateTail",value:u[0],closed:u[1]==="`"});continue}break;case"InterpolationInJSX":if(S.length===R.nesting){k.pop(),p+=1,h="}",yield{type:"JSXPunctuator",value:"}"};continue}}E=S.pop(),b=E?"?ExpressionBraceEnd":"}";break;case"]":E=!0;break;case"++":case"--":b=E?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(P&&(M.test(h)||s.test(h))){k.push({tag:"JSXTag"}),p+=1,h="<",yield{type:"JSXPunctuator",value:L};continue}E=!1;break;default:E=!1}p=D,h=b,yield{type:"Punctuator",value:L};continue}if(r.lastIndex=p,u=r.exec(_)){switch(p=r.lastIndex,b=u[0],u[0]){case"for":case"if":case"while":case"with":h!=="."&&h!=="?."&&(b="?NonExpressionParenKeyword")}h=b,E=!s.test(u[0]),yield{type:u[1]==="#"?"PrivateIdentifier":"IdentifierName",value:u[0]};continue}if(T.lastIndex=p,u=T.exec(_)){p=T.lastIndex,h=u[0],E=!0,yield{type:"StringLiteral",value:u[0],closed:u[2]!==void 0};continue}if(m.lastIndex=p,u=m.exec(_)){p=m.lastIndex,h=u[0],E=!0,yield{type:"NumericLiteral",value:u[0]};continue}if(l.lastIndex=p,u=l.exec(_)){p=l.lastIndex,h=u[0],u[1]==="${"?(h="?InterpolationInTemplate",k.push({tag:"InterpolationInTemplate",nesting:S.length}),E=!1,yield{type:"TemplateHead",value:u[0]}):(E=!0,yield{type:"NoSubstitutionTemplate",value:u[0],closed:u[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(t.lastIndex=p,u=t.exec(_)){switch(p=t.lastIndex,b=u[0],u[0]){case"<":k.push({tag:"JSXTag"});break;case">":k.pop(),h==="/"||R.tag==="JSXTagEnd"?(b="?JSX",E=!0):k.push({tag:"JSXChildren"});break;case"{":k.push({tag:"InterpolationInJSX",nesting:S.length}),b="?InterpolationInJSX",E=!1;break;case"/":h==="<"&&(k.pop(),k[k.length-1].tag==="JSXChildren"&&k.pop(),k.push({tag:"JSXTagEnd"}))}h=b,yield{type:"JSXPunctuator",value:u[0]};continue}if(e.lastIndex=p,u=e.exec(_)){p=e.lastIndex,h=u[0],yield{type:"JSXIdentifier",value:u[0]};continue}if(n.lastIndex=p,u=n.exec(_)){p=n.lastIndex,h=u[0],yield{type:"JSXString",value:u[0],closed:u[2]!==void 0};continue}break;case"JSXChildren":if(i.lastIndex=p,u=i.exec(_)){p=i.lastIndex,h=u[0],yield{type:"JSXText",value:u[0]};continue}switch(_[p]){case"<":k.push({tag:"JSXTag"}),p++,h="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":k.push({tag:"InterpolationInJSX",nesting:S.length}),p++,h="?InterpolationInJSX",E=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if($.lastIndex=p,u=$.exec(_)){p=$.lastIndex,yield{type:"WhiteSpace",value:u[0]};continue}if(o.lastIndex=p,u=o.exec(_)){p=o.lastIndex,E=!1,a.test(h)&&(h="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:u[0]};continue}if(c.lastIndex=p,u=c.exec(_)){p=c.lastIndex,f.test(u[0])&&(E=!1,a.test(h)&&(h="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:u[0],closed:u[1]!==void 0};continue}if(I.lastIndex=p,u=I.exec(_)){p=I.lastIndex,E=!1,yield{type:"SingleLineComment",value:u[0]};continue}A=String.fromCodePoint(_.codePointAt(p)),p+=A.length,h=A,E=!1,yield{type:R.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:A}}},H}lt();var ge={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(ge.keyword);new Set(ge.strict);const ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ut=new Uint8Array(64),ft=new Uint8Array(128);for(let r=0;r<ae.length;r++){const e=ae.charCodeAt(r);ut[r]=e,ft[e]=r}var ce;(function(r){r[r.Empty=1]="Empty",r[r.Hash=2]="Hash",r[r.Query=3]="Query",r[r.RelativePath=4]="RelativePath",r[r.AbsolutePath=5]="AbsolutePath",r[r.SchemeRelative=6]="SchemeRelative",r[r.Absolute=7]="Absolute"})(ce||(ce={}));const dt=/^[A-Za-z]:\//;function pt(r=""){return r&&r.replace(/\\/g,"/").replace(dt,e=>e.toUpperCase())}const mt=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function ht(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const yt=function(...r){r=r.map(n=>pt(n));let e="",t=!1;for(let n=r.length-1;n>=-1&&!t;n--){const i=n>=0?r[n]:ht();!i||i.length===0||(e=`${i}/${e}`,t=le(i))}return e=gt(e,!t),t&&!le(e)?`/${e}`:e.length>0?e:"."};function gt(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const c=t.lastIndexOf("/");c===-1?(t="",n=0):(t=t.slice(0,c),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const le=function(r){return mt.test(r)},ve=/^\s*at .*(?:\S:\d+|\(native\))/m,vt=/^(?:eval@)?(?:\[native code\])?$/;function Ee(r){if(!r.includes(":"))return[r];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r.replace(/^\(|\)$/g,""));if(!t)return[r];let n=t[1];if(n.startsWith("async ")&&(n=n.slice(6)),n.startsWith("http:")||n.startsWith("https:")){const i=new URL(n);i.searchParams.delete("import"),i.searchParams.delete("browserv"),n=i.pathname+i.hash+i.search}if(n.startsWith("/@fs/")){const i=/^\/@fs\/[a-zA-Z]:\//.test(n);n=n.slice(i?5:4)}return[n,t[2]||void 0,t[3]||void 0]}function Et(r){let e=r.trim();if(vt.test(e)||(e.includes(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!e.includes("@")&&!e.includes(":")))return null;const t=/((.*".+"[^@]*)?[^@]*)(@)/,n=e.match(t),i=n&&n[1]?n[1]:void 0,[s,a,o]=Ee(e.replace(t,""));return!s||!a||!o?null:{file:s,method:i||"",line:Number.parseInt(a),column:Number.parseInt(o)}}function wt(r){const e=r.trim();return ve.test(e)?St(e):Et(e)}function St(r){let e=r.trim();if(!ve.test(e))return null;e.includes("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const n=t.match(/ (\(.+\)$)/);t=n?t.replace(n[0],""):t;const[i,s,a]=Ee(n?n[1]:t);let o=n&&t||"",c=i&&["eval","<anonymous>"].includes(i)?void 0:i;return!c||!s||!a?null:(o.startsWith("async ")&&(o=o.slice(6)),c.startsWith("file://")&&(c=c.slice(7)),c=c.startsWith("node:")||c.startsWith("internal:")?c:yt(c),o&&(o=o.replace(/__vite_ssr_import_\d+__\./g,"")),{method:o,file:c,line:Number.parseInt(s),column:Number.parseInt(a)})}function _t(r){const e=r?.globalThisKey||"__vitest_mocker__";function t(){return typeof globalThis[e]<"u"?globalThis[e]:new Proxy({},{get(n,i){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(i)}() is forbidden.`)}})}return{hoisted(n){if(typeof n!="function")throw new TypeError(`vi.hoisted() expects a function, but received a ${typeof n}`);return n()},mock(n,i){if(typeof n!="string")throw new TypeError(`vi.mock() expects a string path, but received a ${typeof n}`);const s=J("mock");t().queueMock(n,s,typeof i=="function"?()=>i(()=>t().importActual(n,s)):i)},unmock(n){if(typeof n!="string")throw new TypeError(`vi.unmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,J("unmock"))},doMock(n,i){if(typeof n!="string")throw new TypeError(`vi.doMock() expects a string path, but received a ${typeof n}`);const s=J("doMock");t().queueMock(n,s,typeof i=="function"?()=>i(()=>t().importActual(n,s)):i)},doUnmock(n){if(typeof n!="string")throw new TypeError(`vi.doUnmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,J("doUnmock"))},async importActual(n){return t().importActual(n,J("importActual"))},async importMock(n){return t().importMock(n,J("importMock"))}}}function J(r){const t=ct({stackTraceLimit:5}).split(`
`),n=t.findIndex(s=>s.includes(` at Object.${r}`)||s.includes(`${r}@`)),i=wt(t[n+1]);return i?.file||""}const{now:ue}=Date;class kt{registry=new fe;queue=new Set;mockedIds=new Set;constructor(e,t,n,i){this.interceptor=e,this.rpc=t,this.spyOn=n,this.config=i}async prepare(){this.queue.size&&await Promise.all([...this.queue.values()])}async resolveFactoryModule(e){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);return await t.resolve()}getFactoryModule(e){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);if(!t.cache)throw new Error(`Mock ${e} wasn't resolved. This is probably a Vitest error. Please, open a new issue with reproduction.`);return t.cache}async invalidate(){const e=Array.from(this.mockedIds);e.length&&(await this.rpc.invalidate(e),await this.interceptor.invalidate(),this.registry.clear())}async importActual(e,t){const n=await this.rpc.resolveId(e,t);if(n==null)throw new Error(`[vitest] Cannot resolve "${e}" imported from "${t}"`);const i=We(n.id),s=new URL(n.url,location.href),a=`_vitest_original&ext${i}`,o=`${s.pathname}${s.search?`${s.search}&${a}`:`?${a}`}${s.hash}`;return this.wrapDynamicImport(()=>import(o)).then(c=>{if(!n.optimized||typeof c.default>"u")return c;const f=c.default;return f?.__esModule?f:{...typeof f=="object"&&!Array.isArray(f)||typeof f=="function"?f:{},default:f}})}async importMock(e,t){await this.prepare();const{resolvedId:n,resolvedUrl:i,redirectUrl:s}=await this.rpc.resolveMock(e,t,{mock:"auto"}),a=this.resolveMockPath(X(i));let o=this.registry.get(a);if(!o)if(s){const c=new URL(this.resolveMockPath(X(s)),location.href).toString();o=new B(e,n,a,c)}else o=new U(e,n,a);if(o.type==="manual")return await o.resolve();if(o.type==="automock"||o.type==="autospy"){const c=new URL(`/@id/${n}`,location.href),f=c.search?`${c.search}&t=${ue()}`:`?t=${ue()}`,m=await Oe(()=>import(`${c.pathname}${f}&mock=${o.type}${c.hash}`),[],import.meta.url);return this.mockObject(m,o.type)}return import(o.redirect)}mockObject(e,t="automock"){return Ne({globalConstructors:{Object,Function,Array,Map,RegExp},spyOn:this.spyOn,type:t},e)}queueMock(e,t,n){const i=this.rpc.resolveMock(e,t,{mock:typeof n=="function"?"factory":n?.spy?"spy":"auto"}).then(async({redirectUrl:s,resolvedId:a,resolvedUrl:o,needsInterop:c,mockType:f})=>{const m=this.resolveMockPath(X(o));this.mockedIds.add(a);const y=typeof n=="function"?async()=>{const T=await n();return c?{default:T}:T}:void 0,g=typeof s=="string"?new URL(this.resolveMockPath(X(s)),location.href).toString():null;let I;f==="manual"?I=this.registry.register("manual",e,a,m,y):f==="autospy"?I=this.registry.register("autospy",e,a,m):f==="redirect"?I=this.registry.register("redirect",e,a,m,g):I=this.registry.register("automock",e,a,m),await this.interceptor.register(I)}).finally(()=>{this.queue.delete(i)});this.queue.add(i)}queueUnmock(e,t){const n=this.rpc.resolveId(e,t).then(async i=>{if(!i)return;const s=this.resolveMockPath(X(i.url));this.mockedIds.add(i.id),this.registry.delete(s),await this.interceptor.delete(s)}).finally(()=>{this.queue.delete(n)});this.queue.add(n)}wrapDynamicImport(e){return typeof e=="function"?new Promise((n,i)=>{this.prepare().finally(()=>{e().then(n,i)})}):e}resolveMockPath(e){const t=this.config,n=ze("/@fs/",t.root);return e.startsWith(t.root)?e.slice(t.root.length):e.startsWith(n)?e.slice(n.length):e}}const Tt=/(\?|&)v=\w{8}/;function X(r){return r.replace(Tt,"")}class It{mocks=new fe;constructor(){}async register(e){this.mocks.add(e)}async delete(e){this.mocks.delete(e)}async invalidate(){this.mocks.clear()}}const K=r=>{switch(r){case"resolveId":return Promise.resolve({id:"",url:"",optimized:!1});case"resolveMock":return Promise.resolve({mockType:"dummy",resolvedId:"",resolvedUrl:"",redirectUrl:"",needsInterop:!1});case"invalidate":return Promise.resolve()}};class bt extends kt{queueMock(){}}function Rt(r){const e=new bt(r("__vitest_mocker__"),{resolveId(t,n){return K("resolveId")},resolveMock(t,n,i){return K("resolveMock")},async invalidate(t){return K("invalidate")}},(...t)=>globalThis.__STORYBOOK_MODULE_TEST__.spyOn(...t),{root:""});return globalThis.__vitest_mocker__=e,_t({globalThisKey:"__vitest_mocker__"})}globalThis.__STORYBOOK_MOCKER__=Rt(()=>new It);
